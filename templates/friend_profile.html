{% extends 'base.html' %}
{% block content %}

<div class="container-fluid">

	<h2> {{ friend.username }} </h2>

	{% if img %}
	<img height="200px" src="../static/images/{{img}}" /><br>
	{% endif %}

	<div id="playlist-parent">
	{% if playlists %}

		<h3 class="title"> Playlists </h3>

		{% for playlist in playlists %}
		<p style="font-size:18px"> <button class="btn-color" id="{{ playlist.playlist_id }}" class="btn" style="margin: 5px"> + </button> {{ playlist.title }}</p> 

			{% if playlist.tracks %}
			<div class="list-group" id="show-tracks{{ playlist.playlist_id }}">
				{% for track in playlist.tracks %}
				<div class="list-group-item">
					<h4 class="list-group-item-heading"> {{ track.artist }}: {{ track.title }} </h4>
					<p class="list-group-item-text"><audio controls src="{{ track.audio }}">Your browser doesn't support the audio element.</audio>
					</p>
				</div>
				{% endfor %}
			</div>
			{% endif %}

		{% endfor %}

	{% else %}
		<p> No playlists </p>
	{% endif %}

	</div>
</div>

<script>

$(document).ready(function () {
	$("[id*=show-tracks]").hide();
	$("button").on('click', function() {
		let id = $(this).attr("id");
		let thisDiv = "#show-tracks" + id;
		$(thisDiv).toggle();
	});
});

</script>

{% endblock %}